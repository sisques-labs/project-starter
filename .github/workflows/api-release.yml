name: API Release

on:
  push:
    paths:
      - 'apps/api/**'
    branches:
      - main

permissions:
  contents: write
  issues: write
  pull-requests: write

jobs:
  release:
    uses: sisques-labs/workflows/.github/workflows/node-release.yml@main
    secrets: inherit
    with:
      app_path: 'apps/api'
      working_directory: 'apps/api'
      node_version: '24'
      build_command: 'build'
      use_filter: true
